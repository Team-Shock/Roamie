{"version":3,"sources":["../../../../node_modules/babel-code-frame/lib/index.js"],"names":["exports","__esModule","default","rawLines","lineNumber","colNumber","opts","arguments","length","undefined","Math","max","highlighted","highlightCode","_chalk2","supportsColor","forceColor","chalk","constructor","enabled","maybeHighlight","chalkFn","string","defs","getDefs","highlight","linesAbove","linesBelow","lines","split","NEWLINE","start","end","min","numberMaxWidth","String","frame","slice","map","line","index","number","paddedNumber","gutter","markerLine","markerSpacing","replace","marker","join","reset","_jsTokens","require","_jsTokens2","_interopRequireDefault","_esutils","_esutils2","_chalk","obj","keyword","cyan","capitalized","yellow","jsx_tag","punctuator","magenta","green","regex","comment","grey","invalid","white","bgRed","bold","red","JSX_TAG","BRACKET","getTokenType","match","_match$slice","offset","text","token","matchToToken","type","isReservedWordES6","value","test","substr","toLowerCase","_len","args","Array","_key","colorize","str","module"],"mappings":"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","file":"index.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (rawLines, lineNumber, colNumber) {\n  var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  colNumber = Math.max(colNumber, 0);\n\n  var highlighted = opts.highlightCode && _chalk2.default.supportsColor || opts.forceColor;\n  var chalk = _chalk2.default;\n  if (opts.forceColor) {\n    chalk = new _chalk2.default.constructor({ enabled: true });\n  }\n  var maybeHighlight = function maybeHighlight(chalkFn, string) {\n    return highlighted ? chalkFn(string) : string;\n  };\n  var defs = getDefs(chalk);\n  if (highlighted) rawLines = highlight(defs, rawLines);\n\n  var linesAbove = opts.linesAbove || 2;\n  var linesBelow = opts.linesBelow || 3;\n\n  var lines = rawLines.split(NEWLINE);\n  var start = Math.max(lineNumber - (linesAbove + 1), 0);\n  var end = Math.min(lines.length, lineNumber + linesBelow);\n\n  if (!lineNumber && !colNumber) {\n    start = 0;\n    end = lines.length;\n  }\n\n  var numberMaxWidth = String(end).length;\n\n  var frame = lines.slice(start, end).map(function (line, index) {\n    var number = start + 1 + index;\n    var paddedNumber = (\" \" + number).slice(-numberMaxWidth);\n    var gutter = \" \" + paddedNumber + \" | \";\n    if (number === lineNumber) {\n      var markerLine = \"\";\n      if (colNumber) {\n        var markerSpacing = line.slice(0, colNumber - 1).replace(/[^\\t]/g, \" \");\n        markerLine = [\"\\n \", maybeHighlight(defs.gutter, gutter.replace(/\\d/g, \" \")), markerSpacing, maybeHighlight(defs.marker, \"^\")].join(\"\");\n      }\n      return [maybeHighlight(defs.marker, \">\"), maybeHighlight(defs.gutter, gutter), line, markerLine].join(\"\");\n    } else {\n      return \" \" + maybeHighlight(defs.gutter, gutter) + line;\n    }\n  }).join(\"\\n\");\n\n  if (highlighted) {\n    return chalk.reset(frame);\n  } else {\n    return frame;\n  }\n};\n\nvar _jsTokens = require(\"js-tokens\");\n\nvar _jsTokens2 = _interopRequireDefault(_jsTokens);\n\nvar _esutils = require(\"esutils\");\n\nvar _esutils2 = _interopRequireDefault(_esutils);\n\nvar _chalk = require(\"chalk\");\n\nvar _chalk2 = _interopRequireDefault(_chalk);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getDefs(chalk) {\n  return {\n    keyword: chalk.cyan,\n    capitalized: chalk.yellow,\n    jsx_tag: chalk.yellow,\n    punctuator: chalk.yellow,\n\n    number: chalk.magenta,\n    string: chalk.green,\n    regex: chalk.magenta,\n    comment: chalk.grey,\n    invalid: chalk.white.bgRed.bold,\n    gutter: chalk.grey,\n    marker: chalk.red.bold\n  };\n}\n\nvar NEWLINE = /\\r\\n|[\\n\\r\\u2028\\u2029]/;\n\nvar JSX_TAG = /^[a-z][\\w-]*$/i;\n\nvar BRACKET = /^[()\\[\\]{}]$/;\n\nfunction getTokenType(match) {\n  var _match$slice = match.slice(-2),\n      offset = _match$slice[0],\n      text = _match$slice[1];\n\n  var token = (0, _jsTokens.matchToToken)(match);\n\n  if (token.type === \"name\") {\n    if (_esutils2.default.keyword.isReservedWordES6(token.value)) {\n      return \"keyword\";\n    }\n\n    if (JSX_TAG.test(token.value) && (text[offset - 1] === \"<\" || text.substr(offset - 2, 2) == \"</\")) {\n      return \"jsx_tag\";\n    }\n\n    if (token.value[0] !== token.value[0].toLowerCase()) {\n      return \"capitalized\";\n    }\n  }\n\n  if (token.type === \"punctuator\" && BRACKET.test(token.value)) {\n    return \"bracket\";\n  }\n\n  return token.type;\n}\n\nfunction highlight(defs, text) {\n  return text.replace(_jsTokens2.default, function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var type = getTokenType(args);\n    var colorize = defs[type];\n    if (colorize) {\n      return args[0].split(NEWLINE).map(function (str) {\n        return colorize(str);\n      }).join(\"\\n\");\n    } else {\n      return args[0];\n    }\n  });\n}\n\nmodule.exports = exports[\"default\"];"]}