{"version":3,"sources":["../../../../node_modules/babel-helper-builder-binary-assignment-operator-visitor/lib/index.js"],"names":["exports","__esModule","default","opts","visitor","isAssignment","node","operator","buildAssignment","left","right","t","assignmentExpression","ExpressionStatement","path","file","isCompletionRecord","expr","expression","nodes","exploded","_babelHelperExplodeAssignableExpression2","scope","push","expressionStatement","ref","build","uid","replaceWithMultiple","AssignmentExpression","BinaryExpression","replaceWith","_babelHelperExplodeAssignableExpression","require","_interopRequireDefault","_babelTypes","_interopRequireWildcard","obj","newObj","key","Object","prototype","hasOwnProperty","call","module"],"mappings":"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","file":"index.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (opts) {\n  var visitor = {};\n\n  function isAssignment(node) {\n    return node && node.operator === opts.operator + \"=\";\n  }\n\n  function buildAssignment(left, right) {\n    return t.assignmentExpression(\"=\", left, right);\n  }\n\n  visitor.ExpressionStatement = function (path, file) {\n    if (path.isCompletionRecord()) return;\n\n    var expr = path.node.expression;\n    if (!isAssignment(expr)) return;\n\n    var nodes = [];\n    var exploded = (0, _babelHelperExplodeAssignableExpression2.default)(expr.left, nodes, file, path.scope, true);\n\n    nodes.push(t.expressionStatement(buildAssignment(exploded.ref, opts.build(exploded.uid, expr.right))));\n\n    path.replaceWithMultiple(nodes);\n  };\n\n  visitor.AssignmentExpression = function (path, file) {\n    var node = path.node,\n        scope = path.scope;\n\n    if (!isAssignment(node)) return;\n\n    var nodes = [];\n    var exploded = (0, _babelHelperExplodeAssignableExpression2.default)(node.left, nodes, file, scope);\n    nodes.push(buildAssignment(exploded.ref, opts.build(exploded.uid, node.right)));\n    path.replaceWithMultiple(nodes);\n  };\n\n  visitor.BinaryExpression = function (path) {\n    var node = path.node;\n\n    if (node.operator === opts.operator) {\n      path.replaceWith(opts.build(node.left, node.right));\n    }\n  };\n\n  return visitor;\n};\n\nvar _babelHelperExplodeAssignableExpression = require(\"babel-helper-explode-assignable-expression\");\n\nvar _babelHelperExplodeAssignableExpression2 = _interopRequireDefault(_babelHelperExplodeAssignableExpression);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports[\"default\"];"]}