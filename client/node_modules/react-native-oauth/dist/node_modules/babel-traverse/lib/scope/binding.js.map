{"version":3,"sources":["../../../../../node_modules/babel-traverse/lib/scope/binding.js"],"names":["exports","__esModule","_classCallCheck2","require","_classCallCheck3","_interopRequireDefault","obj","default","Binding","_ref","existing","identifier","scope","path","kind","constantViolations","constant","referencePaths","referenced","references","clearValue","concat","prototype","deoptValue","hasDeoptedValue","setValue","value","hasValue","reassign","indexOf","push","reference","dereference","module"],"mappings":"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","file":"binding.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Binding = function () {\n  function Binding(_ref) {\n    var existing = _ref.existing,\n        identifier = _ref.identifier,\n        scope = _ref.scope,\n        path = _ref.path,\n        kind = _ref.kind;\n    (0, _classCallCheck3.default)(this, Binding);\n\n    this.identifier = identifier;\n    this.scope = scope;\n    this.path = path;\n    this.kind = kind;\n\n    this.constantViolations = [];\n    this.constant = true;\n\n    this.referencePaths = [];\n    this.referenced = false;\n    this.references = 0;\n\n    this.clearValue();\n\n    if (existing) {\n      this.constantViolations = [].concat(existing.path, existing.constantViolations, this.constantViolations);\n    }\n  }\n\n  Binding.prototype.deoptValue = function deoptValue() {\n    this.clearValue();\n    this.hasDeoptedValue = true;\n  };\n\n  Binding.prototype.setValue = function setValue(value) {\n    if (this.hasDeoptedValue) return;\n    this.hasValue = true;\n    this.value = value;\n  };\n\n  Binding.prototype.clearValue = function clearValue() {\n    this.hasDeoptedValue = false;\n    this.hasValue = false;\n    this.value = null;\n  };\n\n  Binding.prototype.reassign = function reassign(path) {\n    this.constant = false;\n    if (this.constantViolations.indexOf(path) !== -1) {\n      return;\n    }\n    this.constantViolations.push(path);\n  };\n\n  Binding.prototype.reference = function reference(path) {\n    if (this.referencePaths.indexOf(path) !== -1) {\n      return;\n    }\n    this.referenced = true;\n    this.references++;\n    this.referencePaths.push(path);\n  };\n\n  Binding.prototype.dereference = function dereference() {\n    this.references--;\n    this.referenced = !!this.references;\n  };\n\n  return Binding;\n}();\n\nexports.default = Binding;\nmodule.exports = exports[\"default\"];"]}