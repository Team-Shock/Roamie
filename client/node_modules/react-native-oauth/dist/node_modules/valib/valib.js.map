{"version":3,"sources":["../../../node_modules/valib/valib.js"],"names":["root","factory","exports","module","define","amd","valib","undefined","getType","classes","class2type","i","il","length","toLowerCase","value","String","Object","prototype","toString","call","Type","isNumber","isNaN","isString","isBoolean","isArray","Array","isObject","isFunction","isUndefined","isNull","isDate","isRegExp","Number","isInteger","n","isFloat","isInfinity","Infinity","isZero","inRange","min","max","options","l_exc","r_exc","lt","lte","gt","gte","isPositive","isNegative","isNumeric","str","canBeSigned","simple","trim","sign","charAt","slice","parseFloat","isFinite","test","toNumber","res","NaN","toUpperCase","indexOf","parseInt","isUrl","reg","RegExp","isMD5","isSHA1","isEmailLike","match","regOrString","startsWith","prefix","substring","endsWith","suffix","isEmpty","ws","regAnyWS","regInitialWS","replace","eq","array","fromIndex","has","hasKey","object","key","hasOwnProperty","hasValue","countKeys","k","Date","isToday","d","yesterday","tomorrow","isTomorrow","getFullYear","getMonth","getDate","isYesterday","isNextDay","future","nDaysFromDate","toStartOfTheDay","getTime","isPreviousDay","past","elapsedDays","d1","d2","Math","abs","round","today","clone","setDate","isWithinDays","nDays","startFrom","isEqual","isSameDay","isSameMonth","isSameWeek","weekStartsAtSunday","tmp","getDay"],"mappings":"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","file":"valib.js","sourcesContent":["/**\n * Copyright 2014 Riccardo Attilio Galli <riccardo@sideralis.org>\n * [http://www.sideralis.org]\n * \n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n * \n *     http://www.apache.org/licenses/LICENSE-2.0\n * \n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n// Apply the returnExports.js UMD pattern  \n// See [https://github.com/umdjs/umd](https://github.com/umdjs/umd)\n(function (root, factory) {\n    \"use strict\";\n\n    if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like enviroments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(factory);\n    } else {\n        // Browser globals\n        root.valib = factory();\n    }\n}(this, function (/*dependencies*/) {\n    \"use strict\";\n\n    // Reset `undefined`, it may have been overwritten.\n    var undefined = (function(){})();\n    \n    // Detect a variable's type (refactoring of code from jQuery 1.7.1).\n    var getType = (function() {\n        \n        var classes = [\"Boolean\", \"Number\", \"String\", \"Function\", \"Array\",\n                       \"Date\", \"RegExp\", \"Object\"],\n            class2type = {};\n        \n        for (var i=0,il=classes.length; i<il; i++) {\n            class2type[ \"[object \" + classes[i] + \"]\" ] = classes[i].toLowerCase();\n        }\n        \n        return function(value) {\n            return value == null ? // match null and undefined\n                   String( value ) :\n                   class2type[ Object.prototype.toString.call(value) ] || \"object\";\n        };\n        \n    })();\n        \n    var valib = {\n        // Type Functions\n        // --------------\n        Type: {\n            isNumber : function(value) {\n                return !this.isNaN(value) && getType(value) === 'number';\n            },\n            isString: function(value) {\n                return getType(value) === 'string';\n            },\n            isBoolean: function(value) {\n                return getType(value) === 'boolean';\n            },\n            isArray: Array.isArray || function(value) {\n                return getType(value) === 'array';\n            },\n            isObject: function(value) { // note: doesn't treat arrays as objects\n                return getType(value) === 'object';\n            },\n            isFunction: function(value) {\n                return getType(value) === 'function';\n            },\n            isUndefined: function(value) {\n                return getType(value) === 'undefined';\n            },\n            isNull: function(value) {\n                // not really a Javascript type, but misleading if treated as an object\n                // (typeof null === 'object')\n                return getType(value) === 'null';\n            },\n            /* Test if `value` is NaN: this is not the same as calling\n             * the builtin isNaN() (which checks if a value is coercible\n             * to a number).\n             */\n            isNaN: function(value) {\n                // not really a Javascript type, but misleading if treated as a number\n                // (typeof NaN === 'number').\n                return (typeof value === 'number') && value != value;\n            },\n            isDate: function(value) {\n                return getType(value) === 'date';\n            },\n            isRegExp: function(value) {\n                return getType(value) === 'regexp';\n            }\n        },\n        // Number Functions\n        // ----------------\n        Number: {\n            isInteger : function(n) {\n                return n === +n && n === (n|0);\n            },\n            isFloat: function(n) {\n                return n === +n && n !== (n|0);\n            },\n            isInfinity: function(n) {\n                return n === Infinity || n === -Infinity;\n            },\n            isZero : function(n) {\n                return n === 0;\n            },\n            /* Test if `n` is between `min` and `max`. By default both bounds are included: \n             * you can exclude either bound via the `options` object:\n             * {l_exc: true} means \"left bound excluded\"\n             * {r_exc: true} means \"right bound excluded\"\n             */\n            inRange : function(n, min, max, options) {\n                options = options || {l_exc : false, r_exc : false};\n                return (options.l_exc ? n > min : n >= min)\n                        &&\n                       (options.r_exc ? n < max : n <= max);\n            },\n            lt : function(n, max) {\n                return n < max;\n            },\n            lte : function(n, max) {\n                return n <= max;\n            },\n            gt : function(n, min) {\n                return n > min;\n            },\n            gte : function(n, min) {\n                return n >= min;\n            },\n            isPositive: function(n) {\n                return n > 0;\n            },\n            isNegative: function(n) {\n                return n < 0;\n            }\n        },\n        // String Functions\n        // ----------------\n        String: {\n            /* Test if `str` represents a number.\n             * `options` is an optional object and can contain the following fields:\n             * - canBeSigned, boolean, defaults `true`\n             * - simple, boolean, defaults `false`\n             * When the `simple` option is `true` then only decimal notation is\n             * accepted (so 2e3, 0x7, etc. are not allowed).\n             */\n            isNumeric : function(str, options) {\n                options = options || {};\n                // Defaults to {canBeSigned: true}\n                if (options.canBeSigned === undefined) options.canBeSigned = true;\n                if (options.simple === undefined) options.simple = false;\n                \n                str = valib.String.trim(str);\n                \n                // Below isFinite() may choke with signed hexadecimals (Firefox\n                // return NaN as the standard requires, others parse them, so\n                // we remove the sign alltogether).\n                \n                var sign = null;\n                if (str.length && str.charAt(0) === '-' || str.charAt(0) === '+') {\n                    sign = str.charAt(0);\n                    str = str.slice(1);\n                }\n                \n                // see http://stackoverflow.com/questions/18082\n                var isNumeric = !isNaN(parseFloat(str)) && isFinite(str);\n                \n                if (!isNumeric) return false;\n                \n                if (sign && !options.canBeSigned) return false;\n                \n                if (options.simple) return /^(0|[1-9][0-9]*)(\\.[0-9]+)?$/.test(str);\n                \n                return true;\n            },\n            /* Convert a string to a number. `null` is returned if the string\n             * cannot be converted.\n             * `options` is optional and has the same format of `String.isNumeric()`.\n             */\n            toNumber : function(str, options) {\n                // NOTE: this function returns null instead of NaN in case of errors\n                // because practicality beats purity. Most people would wrongly\n                // use === NaN on the returned element.\n                if (!this.isNumeric(str, options)) return null;\n                \n                var res = NaN;\n                if (str.toUpperCase().indexOf('X') !== -1) { res = parseInt(str,16); } // hex number\n                else if (/^\\s*[+-]?0[1-9]/.test(str)) { res = parseInt(str,8); } // oct number\n                else { res = parseFloat(str); }\n\n                return valib.Type.isNaN(res) ? null : res;\n                \n            },\n            /* Check if the provided string is an url. The only protocols supported\n             * are http(s) and ftp.\n             */\n            isUrl : (function() {\n                // Javascript version of the regexp found at\n                // http://stackoverflow.com/questions/161738\n                var reg = new RegExp(\n                  \"^(https?|ftp)://\" +                                             // protocol\n                  \"(([a-z0-9$_\\\\.\\\\+!\\\\*\\\\'\\\\(\\\\),;\\\\?&=-]|%[0-9a-f]{2})+\" +       // username\n                  \"(:([a-z0-9$_\\\\.\\\\+!\\\\*\\\\'\\\\(\\\\),;\\\\?&=-]|%[0-9a-f]{2})+)?\" +    // password\n                  \"@)?\" +                                                          // auth requires @\n                  \"((([a-z0-9][a-z0-9-]*[a-z0-9]\\\\.)*\" +                           // domain segments AND\n                  \"[a-z][a-z0-9-]*[a-z0-9]\" +                                      // top level domain  OR\n                  \"|((\\\\d|[1-9]\\\\d|1\\\\d{2}|2[0-4][0-9]|25[0-5])\\\\.){3}\" +\n                  \"(\\\\d|[1-9]\\\\d|1\\\\d{2}|2[0-4][0-9]|25[0-5])\" +                   // IP address\n                  \")(:\\\\d+)?\" +                                                    // port\n                  \")(((/+([a-z0-9$_\\\\.\\\\+!\\\\*\\\\'\\\\(\\\\),;:@&=-]|%[0-9a-f]{2})*)*\" + // path\n                  \"(\\\\?([a-z0-9$_\\\\.\\\\+!\\\\*\\\\'\\\\(\\\\),;:@&=-]|%[0-9a-f]{2})*)\" +    // query string\n                  \"?)?)?\" +                                                        // path and query string optional\n                  \"(#([a-z0-9$_\\\\.\\\\+!\\\\*\\\\'\\\\(\\\\),;:@&=-]|%[0-9a-f]{2})*)?\" +     // fragment\n                  \"$\"\n                ,\"i\");\n                \n                return function(str) {\n                    return reg.test(str);\n                };\n                \n            })(),\n            isMD5 : function(str) {\n                return /^[0-9a-f]{32}$/i.test(str);\n            },\n            isSHA1 : function(str) {\n                return /^[0-9a-f]{40}$/i.test(str);\n            },\n            /* Check if `str` is similar to an e-mail (no hope to comply \n             * with the RFC and the mess that's the real world).\n             */\n            isEmailLike : function(str) {\n                // something@something with no spaces, one and only one @\n                return /^[^\\s@]+@[^\\s@]{3,}$/.test(str);\n            },\n            /* If regOrString is a regular espression check if `str` matches it.\n             * If regOrString is a string check if it's equal to `str`.\n             *\n             * `options` is an optional object. It can have the following keys:\n             *  - trim: boolean (default `false`).\n             *    If true then trailing whitespaces will be ignored on `str`.\n             */\n            match: function(str, regOrString, options) {\n                options = options || {trim:false};\n                \n                if (options.trim) str = valib.String.trim(str);\n                \n                if (valib.Type.isRegExp(regOrString)) {\n                    return regOrString.test(str);\n                }\n                else return regOrString === str;\n            },\n            startsWith: function(str, prefix) {\n                return str.length >= prefix.length && str.substring(0, prefix.length) === prefix;\n            },\n            endsWith: function(str, suffix) {\n                return str.length >= suffix.length && str.substring(str.length - suffix.length) === suffix;\n            },\n            isEmpty : function(str) {\n                return !str;\n            },\n            trim : (function(str) {\n                // Even if they have String.prototype.trim, browsers may discord\n                // on the whitespace characters, so we use a custom trim.\n\n                // For Ecma-262 5th edition and Ecma-262 6th draft rev23 trim will\n                // remove white spaces and line terminators.\n                // White spaces are defined as:\n                // - <TAB>   <VT>    <FF>    <SP>    <NBSP>  <BOM>\n                //   \\u0009  \\u000B  \\u000C  \\u0020  \\u00A0  \\uFEFF\n                // - symbols in the General category Zs in Unicode >= 5.1 (here 6.3)\n                //   \\u0020  \\u00A0  \\u1680  \\u2000-\\u200A  \\u202F  \\u205F  \\u3000\n                // Line terminars are defined as:\n                // - <LF>    <CR>    <LS>    <PS>\n                //   \\u000A  \\u000D  \\u2028  \\u2029\n                \n                var ws = '[\\u0009\\u000A-\\u000D\\u0020\\u00A0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF]',\n                    regAnyWS = new RegExp(ws),\n                    regInitialWS = new RegExp('^' + ws + '+');\n\n                return function(str) {\n                    if (str == null) return ''; // null and undefined\n                    /* modified version of trim12 from\n                       http://blog.stevenlevithan.com/archives/faster-trim-javascript */\n                    str = str.replace(regInitialWS, '');\n                    var i = str.length;\n                    while (regAnyWS.test(str.charAt(--i)));\n                    return str.slice(0, i + 1);\n                };\n            })(),\n            length: {\n                eq  : function(str, n) { return str.length === n; },\n                gt  : function(str, n) { return str.length >   n; },\n                gte : function(str, n) { return str.length >=  n; },\n                lt  : function(str, n) { return str.length <   n; },\n                lte : function(str, n) { return str.length <=  n; }\n            }\n        },\n        // Array Functions\n        // ---------------\n        Array : {\n            /* Test if `value` is inside `array`.\n             * If the optional parameter `fromIndex` is provided\n             * then the search start from that index.\n             *\n             * Return the index found or -1.\n             */\n            indexOf : function(array, value, fromIndex) { // O(n)\n                if (array == null) return -1; // null and undefined\n                \n                if (array.length === 0) return -1;\n                \n                if (!Array.prototype.indexOf) {\n                    if (!fromIndex) fromIndex = 0;\n                    if (fromIndex < 0) fromIndex = array.length - 1;\n                    \n                    for (var i=fromIndex,il=array.length; i<il; i++) {\n                        // Check if `i` is inside `array` to differentiate\n                        // between deleted items and keys set to `undefined`.\n                        if (i in array && array[i] === value) return i;\n                    }\n                    return -1;\n                    \n                } else return array.indexOf(value, fromIndex);\n            },\n            /* Like valib.Array.indexOf, but returns a boolean instead.\n             */\n            has : function(array, value, fromIndex) { // O(n)\n                return -1 !== this.indexOf(array, value, fromIndex);\n            },\n            isEmpty : function(array) {\n                if (array == null) return true;\n                return array.length === 0;\n            },\n            length: {\n                eq  : function(array, n) { return array.length === n; },\n                gt  : function(array, n) { return array.length >   n; },\n                gte : function(array, n) { return array.length >=  n; },\n                lt  : function(array, n) { return array.length <   n; },\n                lte : function(array, n) { return array.length <=  n; }\n            }\n        },\n        // Object Functions\n        // ----------------\n        Object : {\n            hasKey : function(object, key) {\n                if (object == null) return false;\n                return Object.prototype.hasOwnProperty.call(object, key);\n            },\n            hasValue : function(object, value) {\n                for (var key in object) {\n                    if (object.hasOwnProperty(key) && object[key] === value) return true;\n                }\n                return false;\n            },\n            isEmpty : function(object) {\n                if (object == null) return true;\n                for (var key in object) if (this.hasKey(object, key)) return false;\n                return true;\n            },\n            /* Returns the number of properties inside an object.\n             */\n            countKeys: function(object) {\n                var k = 0;\n                for (var key in object) {\n                    if (object.hasOwnProperty(key)) k++;\n                }\n                return k;\n            }\n        },\n        // Date Functions\n        // --------------\n        Date : {\n            isToday : function(d) {\n                return d > this.yesterday() && d < this.tomorrow();\n            },\n            isTomorrow :function(d) {\n                var tomorrow = this.tomorrow();\n                return    d.getFullYear() === tomorrow.getFullYear()\n                       && d.getMonth() === tomorrow.getMonth()\n                       && d.getDate() === tomorrow.getDate();\n            },\n            isYesterday : function(d) {\n                var yesterday = this.yesterday();\n                return    d.getFullYear() === yesterday.getFullYear()\n                       && d.getMonth() === yesterday.getMonth()\n                       && d.getDate() === yesterday.getDate();\n            },\n            isNextDay : function(d, future) {\n                return    this.nDaysFromDate(1, this.toStartOfTheDay(d)).getTime()\n                       == this.toStartOfTheDay(future).getTime();\n            },\n            isPreviousDay : function(d, past) {\n                return    this.nDaysFromDate(-1, this.toStartOfTheDay(d)).getTime()\n                       == this.toStartOfTheDay(past).getTime();\n            },\n            /* Return the number of calendar days passed (so if more than 24 hours passed\n             * it may be still a difference of 1 day. e.g. from 01:00 to 03:00 of the\n             * next day).\n             */\n            elapsedDays : function(d1, d2) {\n                \n                return Math.abs(Math.round(( // round because of daylight saving\n                                this.toStartOfTheDay(d1).getTime()\n                                - \n                                this.toStartOfTheDay(d2).getTime())\n                       / (24 * 60 * 60 * 1000)));\n            },\n            toStartOfTheDay : function(d) {\n                return new Date(d.getFullYear(), d.getMonth(), d.getDate());\n            },\n            today : function() {\n                return this.toStartOfTheDay(new Date());\n            },\n            tomorrow : function() {\n                return this.nDaysFromDate(1);\n            },\n            yesterday : function() {\n                return this.nDaysFromDate(-1);\n            },\n            nDaysFromDate : function(n, d) {\n                if (!d) d = this.today();\n                else d = this.clone(d);\n                d.setDate(d.getDate() + n);\n                return d;\n            },\n            /* Test if `d` will occur at most `nDays` after `startFrom`.\n             * If `startFrom` is missing the current date is used.\n             * If `d` is an earlier date than `startFrom` the function \n             * will always return `false`.\n             */\n            isWithinDays : function(d, nDays, startFrom) {\n                if (!startFrom) startFrom = this.today();\n                else startFrom = this.toStartOfTheDay(startFrom);\n                \n                return this.toStartOfTheDay(d) >= this.toStartOfTheDay(startFrom)\n                       && this.elapsedDays(startFrom, d) <= nDays;\n            },\n            clone : function(d) {\n                return new Date(d.getTime());\n            },\n            isEqual : function(d1, d2) {\n                return d1.getTime() === d2.getTime();\n            },\n            /* Check if two dates are the same day of the same year\n             * (the dates must be in the same timezone).\n             */\n            isSameDay : function(d1, d2) {\n                return this.isEqual(this.toStartOfTheDay(d1), this.toStartOfTheDay(d2));\n            },\n            /* Check if two dates are in the same year/month\n             * (the dates must be in the same timezone).\n             */\n            isSameMonth : function(d1, d2) {\n                return d1.getFullYear() === d2.getFullYear()\n                       && d1.getMonth() === d2.getMonth();\n            },\n            /* Check if two dates are in the same week and the same year\n             * (the dates must be in the same timezone).\n             */\n            isSameWeek : function(d1, d2, weekStartsAtSunday/*=true*/) {\n                if (d2 < d1) { var tmp = d1; d1 = d2; d2 = tmp; } // swap\n                if (weekStartsAtSunday !== false) weekStartsAtSunday = true;\n                \n                return this.isSameMonth(d1, d2)\n                       && Math.abs(d1.getDate() - d2.getDate()) < 7\n                       && (\n                            (!weekStartsAtSunday && d1.getDay() === 0 ? 7 : d1.getDay())\n                            <=\n                            (!weekStartsAtSunday && d2.getDay() === 0 ? 7 : d2.getDay())\n                          )\n                        ; \n            }\n        }\n    };\n    \n    return valib;\n\n}));\n"]}