{"version":3,"sources":["../../../../node_modules/babel-preset-env/lib/normalize-options.js"],"names":["exports","__esModule","validateModulesOption","validateSpecOption","validateLooseOption","validateBoolOption","checkDuplicateIncludeExcludes","normalizePluginNames","normalizePluginName","validateIncludesAndExcludes","undefined","default","normalizeOptions","_invariant","require","_invariant2","_interopRequireDefault","_builtIns","_builtIns2","_defaultIncludes","_moduleTransformations","_moduleTransformations2","_plugins","_plugins2","obj","validIncludesAndExcludes","concat","Object","keys","map","m","defaultWebIncludes","hasBeenWarned","opts","arguments","length","type","Array","isArray","unknownOpts","forEach","opt","indexOf","push","plugin","replace","plugins","include","exclude","duplicates","filter","name","value","defaultValue","Error","looseOpt","specOpt","modulesOpt","whitelist","console","warn","debug","loose","moduleType","modules","spec","targets","useBuiltIns"],"mappings":"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","file":"normalize-options.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.validateModulesOption = exports.validateSpecOption = exports.validateLooseOption = exports.validateBoolOption = exports.checkDuplicateIncludeExcludes = exports.normalizePluginNames = exports.normalizePluginName = exports.validateIncludesAndExcludes = undefined;\nexports.default = normalizeOptions;\n\nvar _invariant = require(\"invariant\");\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _builtIns = require(\"../data/built-ins.json\");\n\nvar _builtIns2 = _interopRequireDefault(_builtIns);\n\nvar _defaultIncludes = require(\"./default-includes\");\n\nvar _moduleTransformations = require(\"./module-transformations\");\n\nvar _moduleTransformations2 = _interopRequireDefault(_moduleTransformations);\n\nvar _plugins = require(\"../data/plugins.json\");\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar validIncludesAndExcludes = [].concat(Object.keys(_plugins2.default), Object.keys(_moduleTransformations2.default).map(function (m) {\n  return _moduleTransformations2.default[m];\n}), Object.keys(_builtIns2.default), _defaultIncludes.defaultWebIncludes);\n\nvar hasBeenWarned = false;\n\nvar validateIncludesAndExcludes = exports.validateIncludesAndExcludes = function validateIncludesAndExcludes() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var type = arguments[1];\n\n  (0, _invariant2.default)(Array.isArray(opts), \"Invalid Option: The '\" + type + \"' option must be an Array<String> of plugins/built-ins\");\n\n  var unknownOpts = [];\n  opts.forEach(function (opt) {\n    if (validIncludesAndExcludes.indexOf(opt) === -1) {\n      unknownOpts.push(opt);\n    }\n  });\n\n  (0, _invariant2.default)(unknownOpts.length === 0, \"Invalid Option: The plugins/built-ins '\" + unknownOpts + \"' passed to the '\" + type + \"' option are not\\n    valid. Please check data/[plugin-features|built-in-features].js in babel-preset-env\");\n\n  return opts;\n};\n\nvar normalizePluginName = exports.normalizePluginName = function normalizePluginName(plugin) {\n  return plugin.replace(/^babel-plugin-/, \"\");\n};\n\nvar normalizePluginNames = exports.normalizePluginNames = function normalizePluginNames(plugins) {\n  return plugins.map(normalizePluginName);\n};\n\nvar checkDuplicateIncludeExcludes = exports.checkDuplicateIncludeExcludes = function checkDuplicateIncludeExcludes() {\n  var include = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var exclude = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  var duplicates = include.filter(function (opt) {\n    return exclude.indexOf(opt) >= 0;\n  });\n\n  (0, _invariant2.default)(duplicates.length === 0, \"Invalid Option: The plugins/built-ins '\" + duplicates + \"' were found in both the \\\"include\\\" and\\n    \\\"exclude\\\" options.\");\n};\n\nvar validateBoolOption = exports.validateBoolOption = function validateBoolOption(name, value, defaultValue) {\n  if (typeof value === \"undefined\") {\n    value = defaultValue;\n  }\n\n  if (typeof value !== \"boolean\") {\n    throw new Error(\"Preset env: '\" + name + \"' option must be a boolean.\");\n  }\n\n  return value;\n};\n\nvar validateLooseOption = exports.validateLooseOption = function validateLooseOption(looseOpt) {\n  return validateBoolOption(\"loose\", looseOpt, false);\n};\nvar validateSpecOption = exports.validateSpecOption = function validateSpecOption(specOpt) {\n  return validateBoolOption(\"spec\", specOpt, false);\n};\n\nvar validateModulesOption = exports.validateModulesOption = function validateModulesOption() {\n  var modulesOpt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"commonjs\";\n\n  (0, _invariant2.default)(modulesOpt === false || Object.keys(_moduleTransformations2.default).indexOf(modulesOpt) > -1, \"Invalid Option: The 'modules' option must be either 'false' to indicate no modules, or a\\n    module type which can be be one of: 'commonjs' (default), 'amd', 'umd', 'systemjs'.\");\n\n  return modulesOpt;\n};\n\nfunction normalizeOptions(opts) {\n  // TODO: remove whitelist in favor of include in next major\n  if (opts.whitelist && !hasBeenWarned) {\n    console.warn(\"Deprecation Warning: The \\\"whitelist\\\" option has been deprecated in favor of \\\"include\\\" to\\n      match the newly added \\\"exclude\\\" option (instead of \\\"blacklist\\\").\");\n    hasBeenWarned = true;\n  }\n\n  (0, _invariant2.default)(!(opts.whitelist && opts.include), \"Invalid Option: The \\\"whitelist\\\" and the \\\"include\\\" option are the same and one can be used at\\n    a time\");\n\n  if (opts.exclude) {\n    opts.exclude = normalizePluginNames(opts.exclude);\n  }\n\n  if (opts.whitelist || opts.include) {\n    opts.include = normalizePluginNames(opts.whitelist || opts.include);\n  }\n\n  checkDuplicateIncludeExcludes(opts.include, opts.exclude);\n\n  return {\n    debug: opts.debug,\n    exclude: validateIncludesAndExcludes(opts.exclude, \"exclude\"),\n    include: validateIncludesAndExcludes(opts.include, \"include\"),\n    loose: validateLooseOption(opts.loose),\n    moduleType: validateModulesOption(opts.modules),\n    spec: validateSpecOption(opts.spec),\n    targets: opts.targets,\n    useBuiltIns: opts.useBuiltIns\n  };\n}"]}