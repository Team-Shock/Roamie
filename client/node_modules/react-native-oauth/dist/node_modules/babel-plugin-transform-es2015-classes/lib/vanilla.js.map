{"version":3,"sources":["../../../../node_modules/babel-plugin-transform-es2015-classes/lib/vanilla.js"],"names":["exports","__esModule","_getIterator2","require","_getIterator3","_interopRequireDefault","_classCallCheck2","_classCallCheck3","_babelTraverse","_babelHelperReplaceSupers","_babelHelperReplaceSupers2","_babelHelperOptimiseCallExpression","_babelHelperOptimiseCallExpression2","_babelHelperDefineMap","defineMap","_interopRequireWildcard","_babelTemplate","_babelTemplate2","_babelTypes","t","obj","newObj","key","Object","prototype","hasOwnProperty","call","default","buildDerivedConstructor","noMethodVisitor","FunctionExpressionFunctionDeclaration","path","is","skip","Method","verifyConstructorVisitor","visitors","merge","Super","isDerived","hasBareSuper","parentPath","isCallExpression","callee","node","buildCodeFrameError","CallExpression","exit","get","isSuper","ThisExpression","inShadow","findThisesVisitor","superThises","push","ClassTransformer","file","parent","scope","clearDescriptors","instancePropBody","instancePropRefs","staticPropBody","body","bareSuperAfter","bareSupers","pushedConstructor","pushedInherits","isLoose","classId","id","classRef","identifier","name","generateUidIdentifier","superName","superClass","run","_this","constructorBody","blockStatement","constructor","buildConstructor","closureParams","closureArgs","generateUidIdentifierBasedOnNode","buildBody","unshift","expressionStatement","callExpression","addHelper","thisExpression","concat","map","fn","length","toExpression","returnStatement","container","functionExpression","shadow","func","functionDeclaration","inherits","pushToMap","enumerable","kind","arguments","undefined","mutatorMap","static","hasStaticDescriptors","staticMutatorMap","hasInstanceDescriptors","instanceMutatorMap","booleanLiteral","constructorMeMaybe","hasConstructor","paths","_iterator","_isArray","Array","isArray","_i","_ref","next","done","value","equals","params","_constructor","expression","unshiftContainer","classMethod","pushBody","verifyConstructor","userConstructor","pushDescriptors","classBodyPaths","_iterator2","_isArray2","_i2","_ref2","isClassProperty","decorators","isClassMethod","isConstructor","traverse","replaceSupers","forceSuperMemoisation","methodPath","methodNode","objectRef","superRef","isStatic","replace","pushConstructor","pushMethod","pushInherits","instanceProps","staticProps","toClassObject","toComputedObjectFromClass","nullNode","nullLiteral","args","instanceInitializersId","buildObjectAssignment","staticInitializersId","lastNonNullIndex","i","slice","variableDeclaration","variableDeclarator","objectExpression","wrapSuperCall","bareSuper","thisRef","bareSuperNode","isSpreadElement","isIdentifier","argument","memberExpression","logicalExpression","isExpressionStatement","assignmentExpression","toSequenceExpression","replaceWith","replaceWithMultiple","_this2","userConstructorPath","guaranteedSuperBeforeFinish","_iterator3","_isArray3","_i3","_ref3","find","isLoop","isConditional","_iterator4","_isArray4","_i4","_ref4","thisPath","wrapReturn","returnArg","bodyPaths","pop","isReturnStatement","pushContainer","_iterator5","superReturns","_isArray5","_i5","_ref5","returnPath","ref","generateDeclaredUidIdentifier","_processMethod","method","returns","hasOwnBinding","rename","construct","inheritsComments","_ignoreUserWhitespace","directives","_pushConstructor","module"],"mappings":"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","file":"vanilla.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _babelTraverse = require(\"babel-traverse\");\n\nvar _babelHelperReplaceSupers = require(\"babel-helper-replace-supers\");\n\nvar _babelHelperReplaceSupers2 = _interopRequireDefault(_babelHelperReplaceSupers);\n\nvar _babelHelperOptimiseCallExpression = require(\"babel-helper-optimise-call-expression\");\n\nvar _babelHelperOptimiseCallExpression2 = _interopRequireDefault(_babelHelperOptimiseCallExpression);\n\nvar _babelHelperDefineMap = require(\"babel-helper-define-map\");\n\nvar defineMap = _interopRequireWildcard(_babelHelperDefineMap);\n\nvar _babelTemplate = require(\"babel-template\");\n\nvar _babelTemplate2 = _interopRequireDefault(_babelTemplate);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar buildDerivedConstructor = (0, _babelTemplate2.default)(\"\\n  (function () {\\n    super(...arguments);\\n  })\\n\");\n\nvar noMethodVisitor = {\n  \"FunctionExpression|FunctionDeclaration\": function FunctionExpressionFunctionDeclaration(path) {\n    if (!path.is(\"shadow\")) {\n      path.skip();\n    }\n  },\n  Method: function Method(path) {\n    path.skip();\n  }\n};\n\nvar verifyConstructorVisitor = _babelTraverse.visitors.merge([noMethodVisitor, {\n  Super: function Super(path) {\n    if (this.isDerived && !this.hasBareSuper && !path.parentPath.isCallExpression({ callee: path.node })) {\n      throw path.buildCodeFrameError(\"'super.*' is not allowed before super()\");\n    }\n  },\n\n\n  CallExpression: {\n    exit: function exit(path) {\n      if (path.get(\"callee\").isSuper()) {\n        this.hasBareSuper = true;\n\n        if (!this.isDerived) {\n          throw path.buildCodeFrameError(\"super() is only allowed in a derived constructor\");\n        }\n      }\n    }\n  },\n\n  ThisExpression: function ThisExpression(path) {\n    if (this.isDerived && !this.hasBareSuper) {\n      if (!path.inShadow(\"this\")) {\n        throw path.buildCodeFrameError(\"'this' is not allowed before super()\");\n      }\n    }\n  }\n}]);\n\nvar findThisesVisitor = _babelTraverse.visitors.merge([noMethodVisitor, {\n  ThisExpression: function ThisExpression(path) {\n    this.superThises.push(path);\n  }\n}]);\n\nvar ClassTransformer = function () {\n  function ClassTransformer(path, file) {\n    (0, _classCallCheck3.default)(this, ClassTransformer);\n\n    this.parent = path.parent;\n    this.scope = path.scope;\n    this.node = path.node;\n    this.path = path;\n    this.file = file;\n\n    this.clearDescriptors();\n\n    this.instancePropBody = [];\n    this.instancePropRefs = {};\n    this.staticPropBody = [];\n    this.body = [];\n\n    this.bareSuperAfter = [];\n    this.bareSupers = [];\n\n    this.pushedConstructor = false;\n    this.pushedInherits = false;\n    this.isLoose = false;\n\n    this.superThises = [];\n\n    this.classId = this.node.id;\n\n    this.classRef = this.node.id ? t.identifier(this.node.id.name) : this.scope.generateUidIdentifier(\"class\");\n\n    this.superName = this.node.superClass || t.identifier(\"Function\");\n    this.isDerived = !!this.node.superClass;\n  }\n\n  ClassTransformer.prototype.run = function run() {\n    var _this = this;\n\n    var superName = this.superName;\n    var file = this.file;\n    var body = this.body;\n\n    var constructorBody = this.constructorBody = t.blockStatement([]);\n    this.constructor = this.buildConstructor();\n\n    var closureParams = [];\n    var closureArgs = [];\n\n    if (this.isDerived) {\n      closureArgs.push(superName);\n\n      superName = this.scope.generateUidIdentifierBasedOnNode(superName);\n      closureParams.push(superName);\n\n      this.superName = superName;\n    }\n\n    this.buildBody();\n\n    constructorBody.body.unshift(t.expressionStatement(t.callExpression(file.addHelper(\"classCallCheck\"), [t.thisExpression(), this.classRef])));\n\n    body = body.concat(this.staticPropBody.map(function (fn) {\n      return fn(_this.classRef);\n    }));\n\n    if (this.classId) {\n      if (body.length === 1) return t.toExpression(body[0]);\n    }\n\n    body.push(t.returnStatement(this.classRef));\n\n    var container = t.functionExpression(null, closureParams, t.blockStatement(body));\n    container.shadow = true;\n    return t.callExpression(container, closureArgs);\n  };\n\n  ClassTransformer.prototype.buildConstructor = function buildConstructor() {\n    var func = t.functionDeclaration(this.classRef, [], this.constructorBody);\n    t.inherits(func, this.node);\n    return func;\n  };\n\n  ClassTransformer.prototype.pushToMap = function pushToMap(node, enumerable) {\n    var kind = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"value\";\n    var scope = arguments[3];\n\n    var mutatorMap = void 0;\n    if (node.static) {\n      this.hasStaticDescriptors = true;\n      mutatorMap = this.staticMutatorMap;\n    } else {\n      this.hasInstanceDescriptors = true;\n      mutatorMap = this.instanceMutatorMap;\n    }\n\n    var map = defineMap.push(mutatorMap, node, kind, this.file, scope);\n\n    if (enumerable) {\n      map.enumerable = t.booleanLiteral(true);\n    }\n\n    return map;\n  };\n\n  ClassTransformer.prototype.constructorMeMaybe = function constructorMeMaybe() {\n    var hasConstructor = false;\n    var paths = this.path.get(\"body.body\");\n    for (var _iterator = paths, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var path = _ref;\n\n      hasConstructor = path.equals(\"kind\", \"constructor\");\n      if (hasConstructor) break;\n    }\n    if (hasConstructor) return;\n\n    var params = void 0,\n        body = void 0;\n\n    if (this.isDerived) {\n      var _constructor = buildDerivedConstructor().expression;\n      params = _constructor.params;\n      body = _constructor.body;\n    } else {\n      params = [];\n      body = t.blockStatement([]);\n    }\n\n    this.path.get(\"body\").unshiftContainer(\"body\", t.classMethod(\"constructor\", t.identifier(\"constructor\"), params, body));\n  };\n\n  ClassTransformer.prototype.buildBody = function buildBody() {\n    this.constructorMeMaybe();\n    this.pushBody();\n    this.verifyConstructor();\n\n    if (this.userConstructor) {\n      var constructorBody = this.constructorBody;\n      constructorBody.body = constructorBody.body.concat(this.userConstructor.body.body);\n      t.inherits(this.constructor, this.userConstructor);\n      t.inherits(constructorBody, this.userConstructor.body);\n    }\n\n    this.pushDescriptors();\n  };\n\n  ClassTransformer.prototype.pushBody = function pushBody() {\n    var classBodyPaths = this.path.get(\"body.body\");\n\n    for (var _iterator2 = classBodyPaths, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : (0, _getIterator3.default)(_iterator2);;) {\n      var _ref2;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref2 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref2 = _i2.value;\n      }\n\n      var path = _ref2;\n\n      var node = path.node;\n\n      if (path.isClassProperty()) {\n        throw path.buildCodeFrameError(\"Missing class properties transform.\");\n      }\n\n      if (node.decorators) {\n        throw path.buildCodeFrameError(\"Method has decorators, put the decorator plugin before the classes one.\");\n      }\n\n      if (t.isClassMethod(node)) {\n        var isConstructor = node.kind === \"constructor\";\n\n        if (isConstructor) {\n          path.traverse(verifyConstructorVisitor, this);\n\n          if (!this.hasBareSuper && this.isDerived) {\n            throw path.buildCodeFrameError(\"missing super() call in constructor\");\n          }\n        }\n\n        var replaceSupers = new _babelHelperReplaceSupers2.default({\n          forceSuperMemoisation: isConstructor,\n          methodPath: path,\n          methodNode: node,\n          objectRef: this.classRef,\n          superRef: this.superName,\n          isStatic: node.static,\n          isLoose: this.isLoose,\n          scope: this.scope,\n          file: this.file\n        }, true);\n\n        replaceSupers.replace();\n\n        if (isConstructor) {\n          this.pushConstructor(replaceSupers, node, path);\n        } else {\n          this.pushMethod(node, path);\n        }\n      }\n    }\n  };\n\n  ClassTransformer.prototype.clearDescriptors = function clearDescriptors() {\n    this.hasInstanceDescriptors = false;\n    this.hasStaticDescriptors = false;\n\n    this.instanceMutatorMap = {};\n    this.staticMutatorMap = {};\n  };\n\n  ClassTransformer.prototype.pushDescriptors = function pushDescriptors() {\n    this.pushInherits();\n\n    var body = this.body;\n\n    var instanceProps = void 0;\n    var staticProps = void 0;\n\n    if (this.hasInstanceDescriptors) {\n      instanceProps = defineMap.toClassObject(this.instanceMutatorMap);\n    }\n\n    if (this.hasStaticDescriptors) {\n      staticProps = defineMap.toClassObject(this.staticMutatorMap);\n    }\n\n    if (instanceProps || staticProps) {\n      if (instanceProps) instanceProps = defineMap.toComputedObjectFromClass(instanceProps);\n      if (staticProps) staticProps = defineMap.toComputedObjectFromClass(staticProps);\n\n      var nullNode = t.nullLiteral();\n\n      var args = [this.classRef, nullNode, nullNode, nullNode, nullNode];\n\n      if (instanceProps) args[1] = instanceProps;\n      if (staticProps) args[2] = staticProps;\n\n      if (this.instanceInitializersId) {\n        args[3] = this.instanceInitializersId;\n        body.unshift(this.buildObjectAssignment(this.instanceInitializersId));\n      }\n\n      if (this.staticInitializersId) {\n        args[4] = this.staticInitializersId;\n        body.unshift(this.buildObjectAssignment(this.staticInitializersId));\n      }\n\n      var lastNonNullIndex = 0;\n      for (var i = 0; i < args.length; i++) {\n        if (args[i] !== nullNode) lastNonNullIndex = i;\n      }\n      args = args.slice(0, lastNonNullIndex + 1);\n\n      body.push(t.expressionStatement(t.callExpression(this.file.addHelper(\"createClass\"), args)));\n    }\n\n    this.clearDescriptors();\n  };\n\n  ClassTransformer.prototype.buildObjectAssignment = function buildObjectAssignment(id) {\n    return t.variableDeclaration(\"var\", [t.variableDeclarator(id, t.objectExpression([]))]);\n  };\n\n  ClassTransformer.prototype.wrapSuperCall = function wrapSuperCall(bareSuper, superRef, thisRef, body) {\n    var bareSuperNode = bareSuper.node;\n\n    if (this.isLoose) {\n      bareSuperNode.arguments.unshift(t.thisExpression());\n      if (bareSuperNode.arguments.length === 2 && t.isSpreadElement(bareSuperNode.arguments[1]) && t.isIdentifier(bareSuperNode.arguments[1].argument, { name: \"arguments\" })) {\n        bareSuperNode.arguments[1] = bareSuperNode.arguments[1].argument;\n        bareSuperNode.callee = t.memberExpression(superRef, t.identifier(\"apply\"));\n      } else {\n        bareSuperNode.callee = t.memberExpression(superRef, t.identifier(\"call\"));\n      }\n    } else {\n      bareSuperNode = (0, _babelHelperOptimiseCallExpression2.default)(t.logicalExpression(\"||\", t.memberExpression(this.classRef, t.identifier(\"__proto__\")), t.callExpression(t.memberExpression(t.identifier(\"Object\"), t.identifier(\"getPrototypeOf\")), [this.classRef])), t.thisExpression(), bareSuperNode.arguments);\n    }\n\n    var call = t.callExpression(this.file.addHelper(\"possibleConstructorReturn\"), [t.thisExpression(), bareSuperNode]);\n\n    var bareSuperAfter = this.bareSuperAfter.map(function (fn) {\n      return fn(thisRef);\n    });\n\n    if (bareSuper.parentPath.isExpressionStatement() && bareSuper.parentPath.container === body.node.body && body.node.body.length - 1 === bareSuper.parentPath.key) {\n\n      if (this.superThises.length || bareSuperAfter.length) {\n        bareSuper.scope.push({ id: thisRef });\n        call = t.assignmentExpression(\"=\", thisRef, call);\n      }\n\n      if (bareSuperAfter.length) {\n        call = t.toSequenceExpression([call].concat(bareSuperAfter, [thisRef]));\n      }\n\n      bareSuper.parentPath.replaceWith(t.returnStatement(call));\n    } else {\n      bareSuper.replaceWithMultiple([t.variableDeclaration(\"var\", [t.variableDeclarator(thisRef, call)])].concat(bareSuperAfter, [t.expressionStatement(thisRef)]));\n    }\n  };\n\n  ClassTransformer.prototype.verifyConstructor = function verifyConstructor() {\n    var _this2 = this;\n\n    if (!this.isDerived) return;\n\n    var path = this.userConstructorPath;\n    var body = path.get(\"body\");\n\n    path.traverse(findThisesVisitor, this);\n\n    var guaranteedSuperBeforeFinish = !!this.bareSupers.length;\n\n    var superRef = this.superName || t.identifier(\"Function\");\n    var thisRef = path.scope.generateUidIdentifier(\"this\");\n\n    for (var _iterator3 = this.bareSupers, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : (0, _getIterator3.default)(_iterator3);;) {\n      var _ref3;\n\n      if (_isArray3) {\n        if (_i3 >= _iterator3.length) break;\n        _ref3 = _iterator3[_i3++];\n      } else {\n        _i3 = _iterator3.next();\n        if (_i3.done) break;\n        _ref3 = _i3.value;\n      }\n\n      var bareSuper = _ref3;\n\n      this.wrapSuperCall(bareSuper, superRef, thisRef, body);\n\n      if (guaranteedSuperBeforeFinish) {\n        bareSuper.find(function (parentPath) {\n          if (parentPath === path) {\n            return true;\n          }\n\n          if (parentPath.isLoop() || parentPath.isConditional()) {\n            guaranteedSuperBeforeFinish = false;\n            return true;\n          }\n        });\n      }\n    }\n\n    for (var _iterator4 = this.superThises, _isArray4 = Array.isArray(_iterator4), _i4 = 0, _iterator4 = _isArray4 ? _iterator4 : (0, _getIterator3.default)(_iterator4);;) {\n      var _ref4;\n\n      if (_isArray4) {\n        if (_i4 >= _iterator4.length) break;\n        _ref4 = _iterator4[_i4++];\n      } else {\n        _i4 = _iterator4.next();\n        if (_i4.done) break;\n        _ref4 = _i4.value;\n      }\n\n      var thisPath = _ref4;\n\n      thisPath.replaceWith(thisRef);\n    }\n\n    var wrapReturn = function wrapReturn(returnArg) {\n      return t.callExpression(_this2.file.addHelper(\"possibleConstructorReturn\"), [thisRef].concat(returnArg || []));\n    };\n\n    var bodyPaths = body.get(\"body\");\n    if (bodyPaths.length && !bodyPaths.pop().isReturnStatement()) {\n      body.pushContainer(\"body\", t.returnStatement(guaranteedSuperBeforeFinish ? thisRef : wrapReturn()));\n    }\n\n    for (var _iterator5 = this.superReturns, _isArray5 = Array.isArray(_iterator5), _i5 = 0, _iterator5 = _isArray5 ? _iterator5 : (0, _getIterator3.default)(_iterator5);;) {\n      var _ref5;\n\n      if (_isArray5) {\n        if (_i5 >= _iterator5.length) break;\n        _ref5 = _iterator5[_i5++];\n      } else {\n        _i5 = _iterator5.next();\n        if (_i5.done) break;\n        _ref5 = _i5.value;\n      }\n\n      var returnPath = _ref5;\n\n      if (returnPath.node.argument) {\n        var ref = returnPath.scope.generateDeclaredUidIdentifier(\"ret\");\n        returnPath.get(\"argument\").replaceWithMultiple([t.assignmentExpression(\"=\", ref, returnPath.node.argument), wrapReturn(ref)]);\n      } else {\n        returnPath.get(\"argument\").replaceWith(wrapReturn());\n      }\n    }\n  };\n\n  ClassTransformer.prototype.pushMethod = function pushMethod(node, path) {\n    var scope = path ? path.scope : this.scope;\n\n    if (node.kind === \"method\") {\n      if (this._processMethod(node, scope)) return;\n    }\n\n    this.pushToMap(node, false, null, scope);\n  };\n\n  ClassTransformer.prototype._processMethod = function _processMethod() {\n    return false;\n  };\n\n  ClassTransformer.prototype.pushConstructor = function pushConstructor(replaceSupers, method, path) {\n    this.bareSupers = replaceSupers.bareSupers;\n    this.superReturns = replaceSupers.returns;\n\n    if (path.scope.hasOwnBinding(this.classRef.name)) {\n      path.scope.rename(this.classRef.name);\n    }\n\n    var construct = this.constructor;\n\n    this.userConstructorPath = path;\n    this.userConstructor = method;\n    this.hasConstructor = true;\n\n    t.inheritsComments(construct, method);\n\n    construct._ignoreUserWhitespace = true;\n    construct.params = method.params;\n\n    t.inherits(construct.body, method.body);\n    construct.body.directives = method.body.directives;\n\n    this._pushConstructor();\n  };\n\n  ClassTransformer.prototype._pushConstructor = function _pushConstructor() {\n    if (this.pushedConstructor) return;\n    this.pushedConstructor = true;\n\n    if (this.hasInstanceDescriptors || this.hasStaticDescriptors) {\n      this.pushDescriptors();\n    }\n\n    this.body.push(this.constructor);\n\n    this.pushInherits();\n  };\n\n  ClassTransformer.prototype.pushInherits = function pushInherits() {\n    if (!this.isDerived || this.pushedInherits) return;\n\n    this.pushedInherits = true;\n    this.body.unshift(t.expressionStatement(t.callExpression(this.file.addHelper(\"inherits\"), [this.classRef, this.superName])));\n  };\n\n  return ClassTransformer;\n}();\n\nexports.default = ClassTransformer;\nmodule.exports = exports[\"default\"];"]}