{"version":3,"sources":["../../../../node_modules/babel-runtime/helpers/asyncGenerator.js"],"names":["exports","__esModule","_symbol","require","_symbol2","_interopRequireDefault","_promise","_promise2","obj","default","AwaitValue","value","AsyncGenerator","gen","front","back","send","key","arg","resolve","reject","request","next","resume","result","then","settle","done","err","type","_invoke","return","undefined","asyncIterator","prototype","throw","wrap","fn","apply","arguments","await","_await"],"mappings":"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","file":"asyncGenerator.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _promise = require(\"../core-js/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  function AwaitValue(value) {\n    this.value = value;\n  }\n\n  function AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new _promise2.default(function (resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg);\n        var value = result.value;\n\n        if (value instanceof AwaitValue) {\n          _promise2.default.resolve(value.value).then(function (arg) {\n            resume(\"next\", arg);\n          }, function (arg) {\n            resume(\"throw\", arg);\n          });\n        } else {\n          settle(result.done ? \"return\" : \"normal\", result.value);\n        }\n      } catch (err) {\n        settle(\"throw\", err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case \"return\":\n          front.resolve({\n            value: value,\n            done: true\n          });\n          break;\n\n        case \"throw\":\n          front.reject(value);\n          break;\n\n        default:\n          front.resolve({\n            value: value,\n            done: false\n          });\n          break;\n      }\n\n      front = front.next;\n\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    if (typeof gen.return !== \"function\") {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof _symbol2.default === \"function\" && _symbol2.default.asyncIterator) {\n    AsyncGenerator.prototype[_symbol2.default.asyncIterator] = function () {\n      return this;\n    };\n  }\n\n  AsyncGenerator.prototype.next = function (arg) {\n    return this._invoke(\"next\", arg);\n  };\n\n  AsyncGenerator.prototype.throw = function (arg) {\n    return this._invoke(\"throw\", arg);\n  };\n\n  AsyncGenerator.prototype.return = function (arg) {\n    return this._invoke(\"return\", arg);\n  };\n\n  return {\n    wrap: function wrap(fn) {\n      return function () {\n        return new AsyncGenerator(fn.apply(this, arguments));\n      };\n    },\n    await: function _await(value) {\n      return new AwaitValue(value);\n    }\n  };\n}();"]}