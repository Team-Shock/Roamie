{"version":3,"sources":["../../../../../node_modules/core-js/library/modules/es7.observable.js"],"names":["$export","require","global","core","microtask","OBSERVABLE","aFunction","anObject","anInstance","redefineAll","hide","forOf","RETURN","getMethod","fn","undefined","cleanupSubscription","subscription","cleanup","_c","subscriptionClosed","_o","closeSubscription","Subscription","observer","subscriber","SubscriptionObserver","unsubscribe","e","error","prototype","_s","next","value","m","call","complete","$Observable","Observable","_f","subscribe","forEach","that","Promise","resolve","reject","from","x","C","method","observable","constructor","done","it","of","i","l","arguments","length","items","Array","j","G"],"mappings":"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","file":"es7.observable.js","sourcesContent":["'use strict';\n// https://github.com/zenparsing/es-observable\n\nvar $export = require('./_export');\nvar global = require('./_global');\nvar core = require('./_core');\nvar microtask = require('./_microtask')();\nvar OBSERVABLE = require('./_wks')('observable');\nvar aFunction = require('./_a-function');\nvar anObject = require('./_an-object');\nvar anInstance = require('./_an-instance');\nvar redefineAll = require('./_redefine-all');\nvar hide = require('./_hide');\nvar forOf = require('./_for-of');\nvar RETURN = forOf.RETURN;\n\nvar getMethod = function (fn) {\n  return fn == null ? undefined : aFunction(fn);\n};\n\nvar cleanupSubscription = function (subscription) {\n  var cleanup = subscription._c;\n  if (cleanup) {\n    subscription._c = undefined;\n    cleanup();\n  }\n};\n\nvar subscriptionClosed = function (subscription) {\n  return subscription._o === undefined;\n};\n\nvar closeSubscription = function (subscription) {\n  if (!subscriptionClosed(subscription)) {\n    subscription._o = undefined;\n    cleanupSubscription(subscription);\n  }\n};\n\nvar Subscription = function (observer, subscriber) {\n  anObject(observer);\n  this._c = undefined;\n  this._o = observer;\n  observer = new SubscriptionObserver(this);\n  try {\n    var cleanup = subscriber(observer);\n    var subscription = cleanup;\n    if (cleanup != null) {\n      if (typeof cleanup.unsubscribe === 'function') cleanup = function () {\n        subscription.unsubscribe();\n      };else aFunction(cleanup);\n      this._c = cleanup;\n    }\n  } catch (e) {\n    observer.error(e);\n    return;\n  }if (subscriptionClosed(this)) cleanupSubscription(this);\n};\n\nSubscription.prototype = redefineAll({}, {\n  unsubscribe: function unsubscribe() {\n    closeSubscription(this);\n  }\n});\n\nvar SubscriptionObserver = function (subscription) {\n  this._s = subscription;\n};\n\nSubscriptionObserver.prototype = redefineAll({}, {\n  next: function next(value) {\n    var subscription = this._s;\n    if (!subscriptionClosed(subscription)) {\n      var observer = subscription._o;\n      try {\n        var m = getMethod(observer.next);\n        if (m) return m.call(observer, value);\n      } catch (e) {\n        try {\n          closeSubscription(subscription);\n        } finally {\n          throw e;\n        }\n      }\n    }\n  },\n  error: function error(value) {\n    var subscription = this._s;\n    if (subscriptionClosed(subscription)) throw value;\n    var observer = subscription._o;\n    subscription._o = undefined;\n    try {\n      var m = getMethod(observer.error);\n      if (!m) throw value;\n      value = m.call(observer, value);\n    } catch (e) {\n      try {\n        cleanupSubscription(subscription);\n      } finally {\n        throw e;\n      }\n    }cleanupSubscription(subscription);\n    return value;\n  },\n  complete: function complete(value) {\n    var subscription = this._s;\n    if (!subscriptionClosed(subscription)) {\n      var observer = subscription._o;\n      subscription._o = undefined;\n      try {\n        var m = getMethod(observer.complete);\n        value = m ? m.call(observer, value) : undefined;\n      } catch (e) {\n        try {\n          cleanupSubscription(subscription);\n        } finally {\n          throw e;\n        }\n      }cleanupSubscription(subscription);\n      return value;\n    }\n  }\n});\n\nvar $Observable = function Observable(subscriber) {\n  anInstance(this, $Observable, 'Observable', '_f')._f = aFunction(subscriber);\n};\n\nredefineAll($Observable.prototype, {\n  subscribe: function subscribe(observer) {\n    return new Subscription(observer, this._f);\n  },\n  forEach: function forEach(fn) {\n    var that = this;\n    return new (core.Promise || global.Promise)(function (resolve, reject) {\n      aFunction(fn);\n      var subscription = that.subscribe({\n        next: function (value) {\n          try {\n            return fn(value);\n          } catch (e) {\n            reject(e);\n            subscription.unsubscribe();\n          }\n        },\n        error: reject,\n        complete: resolve\n      });\n    });\n  }\n});\n\nredefineAll($Observable, {\n  from: function from(x) {\n    var C = typeof this === 'function' ? this : $Observable;\n    var method = getMethod(anObject(x)[OBSERVABLE]);\n    if (method) {\n      var observable = anObject(method.call(x));\n      return observable.constructor === C ? observable : new C(function (observer) {\n        return observable.subscribe(observer);\n      });\n    }\n    return new C(function (observer) {\n      var done = false;\n      microtask(function () {\n        if (!done) {\n          try {\n            if (forOf(x, false, function (it) {\n              observer.next(it);\n              if (done) return RETURN;\n            }) === RETURN) return;\n          } catch (e) {\n            if (done) throw e;\n            observer.error(e);\n            return;\n          }observer.complete();\n        }\n      });\n      return function () {\n        done = true;\n      };\n    });\n  },\n  of: function of() {\n    for (var i = 0, l = arguments.length, items = new Array(l); i < l;) items[i] = arguments[i++];\n    return new (typeof this === 'function' ? this : $Observable)(function (observer) {\n      var done = false;\n      microtask(function () {\n        if (!done) {\n          for (var j = 0; j < items.length; ++j) {\n            observer.next(items[j]);\n            if (done) return;\n          }observer.complete();\n        }\n      });\n      return function () {\n        done = true;\n      };\n    });\n  }\n});\n\nhide($Observable.prototype, OBSERVABLE, function () {\n  return this;\n});\n\n$export($export.G, { Observable: $Observable });\n\nrequire('./_set-species')('Observable');\n//# sourceMappingURL=es7.observable.js.map\n//# sourceMappingURL=es7.observable.js.map\n//# sourceMappingURL=es7.observable.js.map"]}